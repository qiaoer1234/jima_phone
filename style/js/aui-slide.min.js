(function(h){var k,f,e,v,i;var g;var q,o,s;var l="aui-slide-node",t="aui-slide-page-wrap",r="aui-slide-page",m="aui-slide-page-active",c="aui-slide-page-dot",u="aui-slide-page-line";var b="."+l,d="."+t,n="."+r,j="."+m;var a=function(w){this._init(w)};a.prototype.options={container:"",width:"auto",height:"auto",speed:300,autoPlay:0,pageShow:true,pageStyle:"dot",dotPosition:"center",friction:1,loop:true,currentPage:false,PageCount:false};a.prototype._init=function(w){p(this.options,w);if(!this.options.container){return}this.index=0;this.continuous=true;this.container=this.options.container;this.loop=this.options.loop;this.speed=this.options.speed;this.container.style.position="relative";this.container.style.width=this.options.width+"px";this.container.style.height=this.options.height+"px";var y=this.container.children[0];this.slideWrap=y;this.slideNodeList=this.slideWrap.querySelectorAll(b);if(!y||!this.slideNodeList){return}this.slideWrapWidth=this.slideWrap.offsetWidth;this.slideNodeListLength=this.slideNodeList.length;if(this.slideNodeListLength==2){y.appendChild(this.slideWrap.children[0].cloneNode(true));y.appendChild(this.slideWrap.children[1].cloneNode(true));this.slideWrap=y;this.slideNodeList=this.slideWrap.querySelectorAll(b);this.slideNodeListLength=this.slideNodeList.length;this.continuous=false}for(var x=0;x<this.slideNodeListLength;x++){this.slideNodeList[x]&&(this.slideNodeList[x].style.webkitTransform=this.slideNodeList[x].style.transform="translate3d("+(this.slideWrapWidth*x)+"px,0,0)")}if(this.slideNodeListLength>1){if(this.options.pageShow){this.createPagination(0);this.setPageDotPosition()}if(this.options.autoPlay>500&&this.loop){this.autoPlay(0)}this.slideWrap.addEventListener("touchstart",this.touchStart.bind(this),false);this.slideWrap.addEventListener("touchmove",this.touchMove.bind(this),false);this.slideWrap.addEventListener("touchend",this.touchEnd.bind(this),false)}};a.prototype.setPageDotPosition=function(){var w=this;var x=w.options.dotPosition;this.container.querySelector(d).style.textAlign=x};a.prototype.autoPlay=function(x){var w=this;setInterval(function(){w.slideTo(w.getCircle(w.index-1),-w.slideWrapWidth,0);w.slideTo(w.getCircle(w.index+2),w.slideWrapWidth,0);w.slideTo(w.index,-w.slideWrapWidth,w.options.speed);w.slideTo(w.getCircle(w.index+1),0,w.options.speed);w.index=w.getCircle(w.index+1);w.setPaginationActive(w.index)},w.options.autoPlay)};a.prototype.setPaginationActive=function(x){var w=this;if(w.options.currentPage){w.options.currentPage(x)}if(!this.container.querySelector(d)){return}var y=this.container.querySelectorAll(n);if(this.container.querySelector(n+j)){this.container.querySelector(n+j).classList.remove(m)}if(!this.continuous){if(this.index==3){y[1].classList.add(m)}else{if(this.index==2){y[0].classList.add(m)}else{y[this.index].classList.add(m)}}}else{y[this.index].classList.add(m)}};a.prototype.createPagination=function(y){var x=this;var w=this.container.querySelector(d);if(!w){return}w.innerHTML="";var A="";switch(x.options.pageStyle){case"dot":if(!this.continuous){for(var z=0;z<2;z++){A+='<span class="'+r+" "+c+'"></span>'}}else{for(var z=0;z<this.slideNodeListLength;z++){A+='<span class="'+r+" "+c+'"></span>'}}w.innerHTML=A;x.setPaginationActive(0);break;case"line":if(!this.continuous){for(var z=0;z<2;z++){A+='<span class="'+r+" "+u+'" style="width:50%"></span>'}}else{for(var z=0;z<this.slideNodeListLength;z++){A+='<span class="'+r+" "+u+'" style="width:'+(100/this.slideNodeListLength)+'%"></span>'}}w.innerHTML=A;x.setPaginationActive(0);break}};a.prototype.pageCount=function(){var w=this;return w.slideNodeList.length};a.prototype.touchStart=function(w){g=new Date()*1;f=parseInt(w.changedTouches[0].pageX);e=parseInt(w.changedTouches[0].pageY);s=undefined};a.prototype.touchMove=function(y){var w=y.changedTouches[0],x=parseInt(w.pageX);v=x-f;i=v/this.options.friction;q=parseInt(w.pageX)-f;o=parseInt(w.pageY)-e;var z=this.getDirection(q,o);if(typeof s=="undefined"){s=!!(s||Math.abs(q)<Math.abs(o))}if(!s){y.preventDefault();if(!this.loop){if(!this.continuous&&this.index==1&&z=="left"){return}if(!this.continuous&&this.index==0&&z=="right"){return}if(this.index==this.slideNodeList.length-1){if(i<=0){return}this.setTranslate(this.getCircle(this.index-1),i-this.slideWrapWidth,0)}else{if(this.index==0){if(i>=0){return}this.setTranslate(this.getCircle(this.index+1),this.slideWrapWidth,0)}}}this.setTranslate(this.getCircle(this.index-1),i-this.slideWrapWidth,0);this.setTranslate(this.index,i,0);this.setTranslate(this.getCircle(this.index+1),i+this.slideWrapWidth,0)}};a.prototype.touchEnd=function(w){var C=w.changedTouches[0];var D=parseInt(C.pageX)-f;var B=parseInt(C.pageY)-e;var A={x:C.pageX||0,y:C.pageY||0};var x=this.getDirection(D,B);var y=this.slideWrapWidth/4;var z=(new Date()*1)-g;var E=Number(z)<250&&Math.abs(q)>20||Math.abs(q)>y;if(s){return}if(E){if(q<0){if(!this.loop&&this.index==this.slideNodeList.length-1){return}if(!this.loop&&!this.continuous&&this.index==1){return}if(q<-y&&x=="left"){this.slideTo(this.getCircle(this.index-1),-this.slideWrapWidth,0);this.slideTo(this.getCircle(this.index+2),this.slideWrapWidth,0);this.slideTo(this.index,-this.slideWrapWidth,this.speed);this.slideTo(this.getCircle(this.index+1),0,this.speed);this.index=this.getCircle(this.index+1)}else{this.slideTo(this.index,0,this.speed);this.slideTo(this.getCircle(this.index+1),this.slideWrapWidth,this.speed)}}else{if(q>0){if(!this.loop&&this.index==0){return}if(!this.loop&&!this.continuous&&this.index==0){return}if(q>y&&x=="right"){this.slideTo(this.getCircle(this.index+1),this.slideWrapWidth,0);this.slideTo(this.getCircle(this.index-2),-this.slideWrapWidth,0);this.slideTo(this.index,this.slideWrapWidth,this.speed);this.slideTo(this.getCircle(this.index-1),0,this.speed);this.index=this.getCircle(this.index-1)}else{this.slideTo(this.index,0,this.speed);this.slideTo(this.getCircle(this.index+1),this.slideWrapWidth,this.speed)}}}}else{if(q){this.slideTo(this.getCircle(this.index-1),-this.slideWrapWidth,this.speed);this.slideTo(this.index,0,this.speed);this.slideTo(this.getCircle(this.index+1),this.slideWrapWidth,this.speed)}}this.setPaginationActive(this.index)};a.prototype.setTranslate=function(w,y,x){if(this.slideNodeList[w]){this.slideNodeList[w].style.webkitTransitionDuration=this.slideNodeList[w].style.transitionDuration=x+"ms";this.slideNodeList[w].style.webkitTransform=this.slideNodeList[w].style.transform="translate3d("+y+"px,0,0)"}};a.prototype.slideTo=function(w,y,x){this.setTranslate(w,y,x)};a.prototype.getCircle=function(w){return(this.slideNodeListLength+(w%this.slideNodeListLength))%this.slideNodeListLength};a.prototype.getDirection=function(w,z){if(w===z){return""}if(Math.abs(w)>=Math.abs(z)){return w>0?"right":"left"}else{return z>0?"down":"up"}};function p(x,w){for(var y in w){if(w.hasOwnProperty(y)){x[y]=w[y]}}return x}h.auiSlide=a})(window);